<div class="text-center">
  <!-- Signup Form -->
  <form class="form-signin" [formGroup]="signupForm" (ngSubmit)="onSubmit()">
    <h1 class="h4 mb-4 mt-0 login">Create account</h1>
    <!-- Email field -->
    <div class="form-group">
      <label for="inputEmail" class="sr-only">Email</label>
      <input
        type="email"
        id="inputEmail"
        placeholder="Email"
        formControlName="email"
        class="form-control mb-3 input-email-password"
        [ngClass]="{
          'is-invalid': submitted && signupFormControl.email.errors,
          'is-valid': signupFormControl.email.valid
        }"
      />
      <i class="material-icons icon-email-password">email</i>
    </div>
    <!-- Email field invalid message-->
    <div
      class="invalid-feedback mb-3"
      *ngIf="submitted && signupFormControl.email.errors"
    >
      <div *ngIf="signupFormControl.email.errors.required">
        A valid email address is required
      </div>
      <div *ngIf="signupFormControl.email.errors.email">
        Please enter a valid email address
      </div>
    </div>
    <!-- Password field -->
    <div class="form-group">
      <label for="inputPassword" class="sr-only">Password</label>
      <input
        [type]="show ? 'text' : 'password'"
        id="inputPassword"
        placeholder="Password"
        formControlName="password"
        class="form-control mb-3 input-email-password"
        [ngClass]="{
          'is-invalid': submitted && signupFormControl.password.errors,
          'is-valid': signupFormControl.password.valid
        }"
      />

      <i class="material-icons icon-email-password">lock</i>
      <i
        class="material-icons password-visibility d-none d-sm-block"
        (click)="show = !show"
        *ngIf="!show"
        >visibility_off</i
      >
      <i
        class="material-icons password-visibility-sm d-sm-none"
        (click)="show = !show"
        *ngIf="!show"
        >visibility_off</i
      >
      <i
        class="material-icons password-visibility d-none d-sm-block"
        (click)="show = !show"
        *ngIf="show"
        >visibility</i
      >
      <i
        class="material-icons password-visibility-sm d-sm-none"
        (click)="show = !show"
        *ngIf="show"
        >visibility</i
      >
    </div>
    <!-- Password field invalid message-->
    <div
      class="invalid-feedback mb-3"
      *ngIf="submitted && signupFormControl.password.errors"
    >
      <div *ngIf="signupFormControl.password.errors.required">
        A password is required
      </div>
      <div *ngIf="signupFormControl.password.errors.minlength">
        Password must be at least 6 characters
      </div>
    </div>
    <!-- Confirm Password field -->
    <div class="form-group">
      <label for="inputConfirmPassword" class="sr-only">Confirm Password</label>
      <input
        [type]="showConfirm ? 'text' : 'password'"
        id="inputConfirmPassword"
        placeholder="Confirm Password"
        formControlName="confirmPassword"
        class="form-control mb-3 input-email-password"
        [ngClass]="{
          'is-invalid': submitted && signupFormControl.confirmPassword.errors,
          'is-valid': signupFormControl.confirmPassword.valid
        }"
      />

      <i class="material-icons icon-email-password">lock</i>
      <i
        class="material-icons password-visibility d-none d-sm-block"
        (click)="showConfirm = !showConfirm"
        *ngIf="!showConfirm"
        >visibility_off</i
      >
      <i
        class="material-icons password-visibility-sm d-sm-none"
        (click)="showConfirm = !showConfirm"
        *ngIf="!showConfirm"
        >visibility_off</i
      >
      <i
        class="material-icons password-visibility d-none d-sm-block"
        (click)="showConfirm = !showConfirm"
        *ngIf="showConfirm"
        >visibility</i
      >
      <i
        class="material-icons password-visibility-sm d-sm-none"
        (click)="showConfirm = !showConfirm"
        *ngIf="showConfirm"
        >visibility</i
      >
    </div>
    <!-- Confirm Password field invalid message-->
    <div
      class="invalid-feedback mb-3"
      *ngIf="submitted && signupFormControl.confirmPassword.errors"
    >
      <div *ngIf="signupFormControl.confirmPassword.errors.required">
        Confirm password is required
      </div>
      <div *ngIf="signupFormControl.confirmPassword.errors.mustMatch">
        Password and Confirm Password must match
      </div>
    </div>
    <!-- First name field -->
    <div class="form-group">
      <label for="inputFirstName" class="sr-only">First name</label>
      <input
        type="text"
        id="inputFirstName"
        placeholder="First name"
        formControlName="firstName"
        class="form-control mb-3"
        [ngClass]="{
          'is-invalid': submitted && signupFormControl.firstName.errors,
          'is-valid': signupFormControl.firstName.valid
        }"
      />
      <!-- First name field invalid message-->
      <div
        class="invalid-feedback"
        *ngIf="submitted && signupFormControl.firstName.errors"
      >
        <div *ngIf="signupFormControl.firstName.errors.required">
          Please enter your first name
        </div>
      </div>
    </div>
    <!-- Last name field -->
    <div class="form-group">
      <label for="inputLastName" class="sr-only">Last name</label>
      <input
        type="text"
        id="inputLastName"
        placeholder="Last name"
        formControlName="lastName"
        class="form-control mt-3"
        [ngClass]="{
          'is-invalid': submitted && signupFormControl.lastName.errors,
          'is-valid': signupFormControl.lastName.valid
        }"
      />
      <!-- Last name field invalid message-->
      <div
        class="invalid-feedback mt-3"
        *ngIf="submitted && signupFormControl.lastName.errors"
      >
        <div *ngIf="signupFormControl.lastName.errors.required">
          Please enter your last name
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-center">
      <button
        class="btn btn-block btn-purple mt-4 mb-3"
        type="submit"
        [disabled]="spinner_activated"
      >
        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
          *ngIf="spinner_activated"
        ></span>

        Sign up
      </button>
    </div>

    <div class="d-flex justify-content-center">
      <button
        class="btn btn-green mb-3"
        type="button"
        [routerLink]="['/signin']"
      >
        <p class="mb-0" style="font-size: 14px">
          Already have an account? Sign in!
        </p>
      </button>
    </div>

    <a [routerLink]="['/signin']">Back</a>

    <div class="alert alert-danger mt-3" *ngFor="let m of messages">
      {{ m }}
    </div>

    <div class="alert alert-success mt-3" *ngIf="user_registered">
      You are successfully registered
      <a class="alert-link" [routerLink]="['/signin']">Click here</a> to sign
      in!
    </div>
    <div><img src="../../../assets/golden_fish.png" /></div>
  </form>
</div>
